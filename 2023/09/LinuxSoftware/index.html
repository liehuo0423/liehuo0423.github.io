<!DOCTYPE html>
<html lang="en">
    
    <style>
        body
        {
            font-family: "Times New Roman", Helvetica, Tahoma, Arial,   LXGW WenKai   "notoserifsc-medium", "Microsoft YaHei", "Hiragino Sans GB", "WenQuanYi Micro Hei", sans-serif !important;

        }
    </style>

    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
    <meta name="description" content="LinuxåŸºç¡€è½¯ä»¶ä¸‹è½½æ•™ç¨‹" />
    <meta name="hexo-theme-A4" content="v1.8.9" />
    <link rel="alternate icon" type="image/webp" href="/img/favicon.webp">
    <title>LieHuo | a guy who loves fresh things</title>

    
        
<link rel="stylesheet" href="/css/highlight/style1.css">

        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--æ³¨æ„ï¼šé¦–é¡µæ—¢ä¸æ˜¯postä¹Ÿä¸æ˜¯page-->
        
            
<link rel="stylesheet" href="/css/waline.css">

        
        
        
<link rel="stylesheet" href="/css/ui.css">
 
        
<link rel="stylesheet" href="/css/style.css">


        
            <!--è¿”å›é¡¶éƒ¨css-->
            
<link rel="stylesheet" href="/css/returnToTop.css">

            
<link rel="stylesheet" href="/css/unicons.css">

        
        
            <!--ç›®å½•-->
            
<link rel="stylesheet" href="/css/toc.css">

        
    

    
        
<link rel="stylesheet" href="/css/returnToLastPage.css">

    
    
   
<link rel="stylesheet" href="/css/lightgallery.min.css">


<meta name="generator" content="Hexo 7.1.1"><link rel="alternate" href="/rss2.xml" title="LieHuo" type="application/rss+xml">

<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>
    
    
    <body>
        
            <div class="left-toc-container">
                <nav id="toc" class="bs-docs-sidebar"></nav>
            </div>
        
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    


<div class="header">
    <div class="header-container">
        <img style="
        width: 56px;
        height: auto;" alt="^-^" cache-control="max-age=86400" class="header-img" src="/img/favicon.webp" width="10%"></img>
        <div class="header-content">
            <a class="logo" href="/">LieHuo</a> 
            <span class="description">å…¨æ ˆå¼€å‘ | çƒ­çˆ±ç”Ÿæ´»ä¸æŠ€æœ¯</span> 
        </div>
        
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">ğŸš€é¦–é¡µ</a></li>
            
        
            
                <li><a href="/list/">ğŸ–Šï¸æ–‡ç« </a></li>
            
        
            
                <li><a href="/works/">ğŸŒˆä½œå“</a></li>
            
        
            
                <li><a href="/tags/">ğŸŒŸæ ‡ç­¾</a></li>
            
        
            
                <li><a href="/categories/">ğŸ—‚ï¸åˆ†ç±»</a></li>
            
        
            
                <li><a href="/message/">ğŸ’¬ç•™è¨€</a></li>
            
        
            
                <li><a href="/about/">ğŸ¤³å…³äº</a></li>
            
        
            
                <li><a href="/now/">âš¡ï¸Now</a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--è¯´æ˜æ˜¯æ–‡ç« posté¡µé¢-->
                    
                        <div class="post-main">

    
        <div class="post-main-title">
            LinuxåŸºç¡€è½¯ä»¶ä¸‹è½½æ•™ç¨‹
        </div>
      
    

    <div class="post-md">
        
            
                <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Linux%E5%9F%BA%E7%A1%80%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85"><span class="post-toc-text">LinuxåŸºç¡€è½¯ä»¶å®‰è£…</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#JDK1-8%E5%AE%89%E8%A3%85"><span class="post-toc-text">JDK1.8å®‰è£…</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Tomcat%E5%AE%89%E8%A3%85"><span class="post-toc-text">Tomcatå®‰è£…</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#MySQL%E5%AE%89%E8%A3%85"><span class="post-toc-text">MySQLå®‰è£…</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Nginx%E5%AE%89%E8%A3%85"><span class="post-toc-text">Nginxå®‰è£…</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Redis%E5%AE%89%E8%A3%85"><span class="post-toc-text">Rediså®‰è£…</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#RocketMQ%E5%AE%89%E8%A3%85"><span class="post-toc-text">RocketMQå®‰è£…</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Docker%E5%AE%89%E8%A3%85"><span class="post-toc-text">Dockerå®‰è£…</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#elasticsearch-docker-%E6%97%A0%E6%B3%95%E5%90%AF%E5%8A%A8%E9%97%AE%E9%A2%98"><span class="post-toc-text">elasticsearch docker æ— æ³•å¯åŠ¨é—®é¢˜</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%B0%86docker%E9%95%9C%E5%83%8F%E6%8B%B7%E8%B4%9D%E5%88%B0%E5%85%B6%E4%BB%96%E7%94%B5%E8%84%91%E8%BF%90%E8%A1%8C"><span class="post-toc-text">å°†dockeré•œåƒæ‹·è´åˆ°å…¶ä»–ç”µè„‘è¿è¡Œ</span></a></li></ol>
            
        
        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/hint.css/2.7.0/hint.min.css"><div class=".article-gallery"><h2 id="LinuxåŸºç¡€è½¯ä»¶å®‰è£…"><a href="#LinuxåŸºç¡€è½¯ä»¶å®‰è£…" class="headerlink" title="LinuxåŸºç¡€è½¯ä»¶å®‰è£…"></a>LinuxåŸºç¡€è½¯ä»¶å®‰è£…</h2><h3 id="JDK1-8å®‰è£…"><a href="#JDK1-8å®‰è£…" class="headerlink" title="JDK1.8å®‰è£…"></a>JDK1.8å®‰è£…</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/java/jdk1.8.0_381</span><br></pre></td></tr></tbody></table></figure>

<p>1ã€ä½¿ç”¨XftpæŠŠ <code>jdk-8u381-linux-x64.tar.gz</code> æ–‡ä»¶ä¼ å…¥ <code>/usr/local/java</code> ç›®å½•ä¸‹</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">mkdir</span> /usr/local/java</span><br></pre></td></tr></tbody></table></figure>

<p>2ã€è§£å‹</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tar -zxvf jdk-8u381-linux-x64.tar.gz</span><br></pre></td></tr></tbody></table></figure>

<p><strong>3ã€é…ç½®ç¯å¢ƒå˜é‡</strong></p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ vim /etc/profile</span><br><span class="line">...</span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/local/java/jdk1.8.0_381</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></tbody></table></figure>

<p><strong>4ã€è®©é…ç½®æ–‡ä»¶ç”Ÿæ•ˆ</strong></p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">source</span> /etc/profile</span><br><span class="line">$ java -version</span><br></pre></td></tr></tbody></table></figure>

<h3 id="Tomcatå®‰è£…"><a href="#Tomcatå®‰è£…" class="headerlink" title="Tomcatå®‰è£…"></a>Tomcatå®‰è£…</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/opt/software/tomcat/apache-tomcat-9.0.78</span><br></pre></td></tr></tbody></table></figure>

<p>1ã€ä¸Šä¼ å®‰è£…æ–‡ä»¶ï¼Œå¹¶è§£å‹ç¼©åˆ°<code>/opt/tomcat</code><br>2ã€è¿›å…¥è§£å‹ç›®å½• <code>/bin</code> ï¼Œå¯åŠ¨tomcat <code>./startup.sh</code><br>3ã€å¼€æ”¾ç«¯å£ <code>8080</code></p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¼€å¯é˜²ç«å¢™</span></span><br><span class="line">$ systemctl start firewalld</span><br><span class="line"><span class="comment">#æ·»åŠ ç«¯å£</span></span><br><span class="line">$ firewall-cmd --add-port=8080/tcp --permanent</span><br><span class="line">success</span><br><span class="line"><span class="comment">#é‡æ–°åŠ è½½é˜²ç«å¢™è§„åˆ™</span></span><br><span class="line">$ firewall-cmd --reload</span><br><span class="line">success</span><br><span class="line">$ firewall-cmd --query-port=8080/tcp</span><br><span class="line"><span class="built_in">yes</span></span><br><span class="line"><span class="comment">#æŸ¥çœ‹æ‰€æœ‰æ°¸ä¹…å¼€æ”¾çš„ç«¯å£</span></span><br><span class="line">$ firewall-cmd --list-ports --permanent</span><br><span class="line"><span class="comment">#æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€</span></span><br><span class="line">$ systemctl status firewalld</span><br></pre></td></tr></tbody></table></figure>

<h3 id="MySQLå®‰è£…"><a href="#MySQLå®‰è£…" class="headerlink" title="MySQLå®‰è£…"></a>MySQLå®‰è£…</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/mysql</span><br></pre></td></tr></tbody></table></figure>

<p><a target="_blank" rel="noopener" href="https://lebang2020.cn/details/201206j2arx5fa.html">CentOS å®‰è£…MySql8 ç¦»çº¿æ‰‹åŠ¨å®‰è£… ï¼ˆrpmï¼‰ - ä¹å¸®ç½‘</a></p>
<p><a href="/img/2023/09/LinuxSoftware/01.png" title="image" class="gallery-item" style="box-shadow: none;"> <img src="/img/2023/09/LinuxSoftware/01.png" alt="image"></a></p>
<p>CentOS7éœ€è¦å…ˆå¸è½½ <code>mariadb</code> ç›¸å…³å®‰è£…åŒ…</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rpm -qa | grep mariadb</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rpm -e --nodeps mariadb-libs-5.5.65-1.el7.x86_64</span><br></pre></td></tr></tbody></table></figure>

<p>1ã€å‡†å¤‡MySqlå®‰è£…åŒ…</p>
<p>ä»å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…ï¼ŒCentOSå¯¹åº”çš„æ˜¯Red Hat Enterprise Linux ç›¸åº”çš„ç‰ˆæœ¬<br>åœ°å€ï¼š<a target="_blank" rel="noopener" href="https://dev.mysql.com/downloads/mysql/">https://dev.mysql.com/downloads/mysql/</a><br>æŠŠ <code>mysql-8.0.34-1.el7.x86_64.rpm-bundle.tar</code> ä¸Šä¼ åˆ°/usr/local/mysqlç›®å½•ä¸‹</p>
<p>2ã€è§£å‹å®‰è£…åŒ…</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /usr/local/mysql</span><br><span class="line">$ <span class="built_in">mkdir</span> mysql-8.0.34-1.el7.x86_64.rpm-bundle.tar</span><br><span class="line">$ tar -xvf mysql-8.0.34-1.el7.x86_64.rpm-bundle.tar -C ./mysql-8.0.34-1.el7.x86_64.rpm-bundle</span><br><span class="line"></span><br><span class="line">mysql-community-client-8.0.34-1.el7.x86_64.rpm</span><br><span class="line">mysql-community-client-plugins-8.0.34-1.el7.x86_64.rpm</span><br><span class="line">mysql-community-common-8.0.34-1.el7.x86_64.rpm</span><br><span class="line">mysql-community-debuginfo-8.0.34-1.el7.x86_64.rpm</span><br><span class="line">mysql-community-devel-8.0.34-1.el7.x86_64.rpm</span><br><span class="line">mysql-community-embedded-compat-8.0.34-1.el7.x86_64.rpm</span><br><span class="line">mysql-community-icu-data-files-8.0.34-1.el7.x86_64.rpm</span><br><span class="line">mysql-community-libs-8.0.34-1.el7.x86_64.rpm</span><br><span class="line">mysql-community-libs-compat-8.0.34-1.el7.x86_64.rpm</span><br><span class="line">mysql-community-server-8.0.34-1.el7.x86_64.rpm</span><br><span class="line">mysql-community-server-debug-8.0.34-1.el7.x86_64.rpm</span><br><span class="line">mysql-community-test-8.0.34-1.el7.x86_64.rpm</span><br></pre></td></tr></tbody></table></figure>

<p>3ã€å®‰è£…</p>
<p>è¿›å…¥åˆ°è§£å‹ç›®å½•æŸ¥çœ‹rpmåŒ…</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> mysql-8.0.34-1.el7.x86_64.rpm-bundle</span><br><span class="line">$ <span class="built_in">ls</span></span><br></pre></td></tr></tbody></table></figure>

<p>æ ¹æ®åŒ…åè¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£…</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@liehuo mysql-8.0.34-1.el7.x86_64.rpm-bundle]</span><br><span class="line">$ rpm -ivh mysql-community-common-8.0.34-1.el7.x86_64.rpm</span><br><span class="line"></span><br><span class="line">warning: mysql-community-common-8.0.34-1.el7.x86_64.rpm: Header V4 RSA/SHA256 Signature, key ID 3a79bd29: NOKEY</span><br><span class="line">Preparing...                          <span class="comment">################################# [100%]</span></span><br><span class="line">Updating / installing...</span><br><span class="line">   1:mysql-community-common-8.0.34-1.e<span class="comment">################################# [100%]</span></span><br><span class="line">   </span><br><span class="line">$ rpm -ivh mysql-community-client-plugins-8.0.34-1.el7.x86_64.rpm</span><br><span class="line">$ rpm -ivh mysql-community-libs-8.0.34-1.el7.x86_64.rpm</span><br><span class="line">$ rpm -ivh mysql-community-client-8.0.34-1.el7.x86_64.rpm</span><br><span class="line">$ rpm -ivh mysql-community-icu-data-files-8.0.34-1.el7.x86_64.rpm</span><br><span class="line">$ rpm -ivh mysql-community-server-8.0.34-1.el7.x86_64.rpm</span><br></pre></td></tr></tbody></table></figure>

<p>4ã€åˆå§‹åŒ–æ•°æ®åº“</p>
<p>è¦ä¿è¯mysqldç”¨æˆ·å¯¹å®ƒæœ‰æƒé™ï¼Œè¯·æŒ‰ä»¥ä¸‹é¡ºåºæ“ä½œ</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">chown</span> -R mysql.mysql /var/lib/mysql/</span><br><span class="line">$ mysqld --initialize</span><br><span class="line">$ grep <span class="string">'temporary password'</span> /var/log/mysqld.log</span><br><span class="line"></span><br><span class="line">2023-09-17T08:52:41.060877Z 6 [Note] [MY-010454] [Server] A temporary password is generated <span class="keyword">for</span> root@localhost: YHbKaMNn0x(X</span><br></pre></td></tr></tbody></table></figure>
<p>æœ€åä¸€è¡Œå°±æ˜¯æˆ‘ä»¬rootçš„é»˜è®¤å¯†ç </p>
<p>6ã€å¯åŠ¨æœåŠ¡</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ systemctl start mysqld.service</span><br><span class="line">$ systemctl status mysqld</span><br><span class="line"></span><br><span class="line">mysqld.service - MySQL Server</span><br><span class="line">   Loaded: loaded (/usr/lib/systemd/system/mysqld.service; enabled; vendor preset: disabled)</span><br><span class="line">   Active: active (running) since Sun 2023-09-17 16:56:21 CST; 4s ago</span><br><span class="line">     Docs: man:mysqld(8)</span><br><span class="line">           http://dev.mysql.com/doc/refman/en/using-systemd.html</span><br><span class="line">  Process: 15337 ExecStartPre=/usr/bin/mysqld_pre_systemd (code=exited, status=0/SUCCESS)</span><br><span class="line"> Main PID: 15361 (mysqld)</span><br><span class="line">   Status: <span class="string">"Server is operational"</span></span><br><span class="line">   CGroup: /system.slice/mysqld.service</span><br><span class="line">           â””â”€15361 /usr/sbin/mysqld</span><br><span class="line"></span><br><span class="line">Sep 17 16:56:19 liehuo systemd[1]: Starting MySQL Server...</span><br><span class="line">Sep 17 16:56:21 liehuo systemd[1]: Started MySQL Server.</span><br></pre></td></tr></tbody></table></figure>

<p>7ã€ç™»å½•MySQL</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@liehuo mysql-8.0.34-1.el7.x86_64.rpm-bundle]$ mysql -u root -p</span><br><span class="line">Enter password:</span><br><span class="line"></span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection <span class="built_in">id</span> is 9</span><br><span class="line">Server version: 8.0.34</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2023, Oracle and/or its affiliates.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type <span class="string">'help;'</span> or <span class="string">'\h'</span> <span class="keyword">for</span> <span class="built_in">help</span>. Type <span class="string">'\c'</span> to clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>8ã€ä¿®æ”¹å¯†ç </p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#é¦–æ¬¡ä¿®æ”¹å¯†ç </span></span><br><span class="line">$ mysql&gt; ALTER user <span class="string">'root'</span>@<span class="string">'localhost'</span> IDENTIFIED BY <span class="string">'123456'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¿®æ”¹è¿œç¨‹å¯†ç </span></span><br><span class="line">$ mysql&gt; ALTER USER <span class="string">'root'</span>@<span class="string">'%'</span> IDENTIFIED WITH mysql_native_password BY <span class="string">'xxx'</span>;</span><br></pre></td></tr></tbody></table></figure>

<p>9ã€å¼€å¯è¿œç¨‹è®¿é—®</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ mysql -u root -p <span class="variable">${your password}</span></span><br><span class="line"></span><br><span class="line">$ use mysql;</span><br><span class="line">$ <span class="keyword">select</span> host, user, authentication_string, plugin from user;</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¦‚æœæ²¡æœ‰host=%çš„ï¼Œè¯´æ˜æ²¡æœ‰å¯ç”¨è¿œç¨‹ç™»é™†çš„è´¦æˆ·</span></span><br><span class="line">$ update user <span class="built_in">set</span> host=<span class="string">'%'</span> <span class="built_in">where</span> user=<span class="string">'root'</span>;</span><br><span class="line"><span class="comment">#ç»™è¿œç¨‹è´¦æˆ·æˆæƒ</span></span><br><span class="line">$ Grant all privileges on root.* to <span class="string">'root'</span>@<span class="string">'%'</span>;</span><br><span class="line"><span class="comment">#è®¾ç½®å¯†ç </span></span><br><span class="line">$ ALTER USER <span class="string">'root'</span>@<span class="string">'%'</span> IDENTIFIED WITH mysql_native_password BY <span class="string">'${your password}'</span>;</span><br><span class="line"><span class="comment">#åˆ·æ–°æƒé™</span></span><br><span class="line">$ flush privileges;</span><br></pre></td></tr></tbody></table></figure>

<p>10ã€å¼€å¯é˜²ç«å¢™ <code>3306</code> ç«¯å£çš„è®¿é—®æƒé™</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¼€æ”¾3306ç«¯å£</span></span><br><span class="line">$ firewall-cmd --zone=public --add-port=3306/tcp --permanent</span><br><span class="line"><span class="comment">#é‡å¯é˜²ç«å¢™</span></span><br><span class="line">$ firewall-cmd --reload</span><br><span class="line"><span class="comment">#æŸ¥çœ‹mysqlç‰ˆæœ¬</span></span><br><span class="line">$ mysql -V</span><br></pre></td></tr></tbody></table></figure>

<h3 id="Nginxå®‰è£…"><a href="#Nginxå®‰è£…" class="headerlink" title="Nginxå®‰è£…"></a>Nginxå®‰è£…</h3><p>1ã€ç¼–è¯‘ç¯å¢ƒ</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install git gcc gcc-c++ make automake autoconf libtool pcre pcre-devel zlib zlib-devel openssl-devel wget vim -y</span><br></pre></td></tr></tbody></table></figure>

<p>or<br>å®‰è£…æ‰€éœ€æ’ä»¶</p>
<ol>
<li>gcc</li>
</ol>
<p>gccæ˜¯linuxä¸‹çš„ç¼–è¯‘å™¨ï¼Œå®ƒå¯ä»¥ç¼–è¯‘ C,C++,Ada,Object Cå’ŒJavaç­‰è¯­è¨€</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŸ¥çœ‹gccç‰ˆæœ¬ </span></span><br><span class="line">$ gcc -v</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum -y install gcc</span><br></pre></td></tr></tbody></table></figure>

<ol start="2">
<li>pcreã€pcre-devel</li>
</ol>
<p>pcreæ˜¯ä¸€ä¸ªperlåº“ï¼ŒåŒ…æ‹¬perlå…¼å®¹çš„æ­£åˆ™è¡¨è¾¾å¼åº“ï¼Œnginxçš„httpæ¨¡å—ä½¿ç”¨pcreæ¥è§£ææ­£åˆ™è¡¨è¾¾å¼</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install -y pcre pcre-devel</span><br></pre></td></tr></tbody></table></figure>

<ol start="3">
<li>zlib</li>
</ol>
<p>zlibåº“æä¾›äº†å¾ˆå¤šç§å‹ç¼©å’Œè§£å‹ç¼©æ–¹å¼ï¼Œnginxä½¿ç”¨zlibå¯¹httpåŒ…çš„å†…å®¹è¿›è¡Œgzip</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install -y zlib zlib-devel</span><br></pre></td></tr></tbody></table></figure>

<ol start="4">
<li>openssl</li>
</ol>
<p>opensslæ˜¯webå®‰å…¨é€šä¿¡çš„åŸºçŸ³</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install -y openssl openssl-devel</span><br></pre></td></tr></tbody></table></figure>

<p>2ã€æŠŠnginxå‹ç¼©åŒ…è§£å‹åˆ° <code>/usr/local/nginx</code> ä¸‹</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tar -zxvf nginx-1.20.2.tar.gz</span><br></pre></td></tr></tbody></table></figure>

<p>3ã€æ‰§è¡Œ./configureå¹¶è¿›è¡Œç¼–è¯‘å®‰è£…</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /usr/local/nginx/nginx-1.20.2/</span><br><span class="line"><span class="comment">#æ‰§è¡Œ</span></span><br><span class="line">$ ./configure</span><br><span class="line"><span class="comment">#ç¼–è¯‘å®‰è£…</span></span><br><span class="line">$ make &amp;&amp; make install </span><br></pre></td></tr></tbody></table></figure>

<p>4ã€å¯åŠ¨nginxæœåŠ¡</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /usr/local/nginx/sbin</span><br><span class="line">$ ./nginx </span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">$ /usr/local/nginx/sbin/nginx</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¯åŠ¨nginx</span></span><br><span class="line">$ /usr/local/nginx/sbin/nginx</span><br><span class="line"> <span class="comment">#é‡å¯nginx</span></span><br><span class="line">$ /usr/local/nginx/sbin/nginx -s reload</span><br><span class="line"><span class="comment">#åœæ­¢nginx</span></span><br><span class="line">$ /usr/local/nginx/sbin/nginx -s stop </span><br></pre></td></tr></tbody></table></figure>

<p>æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰è¯¯</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ç¼–è¾‘é…ç½®æ–‡ä»¶</span></span><br><span class="line">$ vim /usr/local/nginx/conf/nginx.conf</span><br><span class="line"><span class="comment">#æ£€æµ‹é…ç½®æ–‡ä»¶</span></span><br><span class="line">$ ./nginx -t</span><br><span class="line"></span><br><span class="line">ngx_http_fastdfs_set pid=29157</span><br><span class="line">nginx: the configuration file /usr/local/nginx/conf/nginx.conf syntax is ok</span><br><span class="line">nginx: configuration file /usr/local/nginx/conf/nginx.conf <span class="built_in">test</span> is successful</span><br></pre></td></tr></tbody></table></figure>

<p>5ã€æŸ¥çœ‹nginxè¿›ç¨‹</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ps aux | grep nginx</span><br><span class="line"><span class="comment">#or</span></span><br><span class="line">netstat -ntpl</span><br></pre></td></tr></tbody></table></figure>

<p>6ã€å¼€å¯ç«¯å£</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@liehuo sbin]$ firewall-cmd --add-port=80/tcp --permanent</span><br><span class="line">success</span><br><span class="line">[root@liehuo sbin]$ firewall-cmd --reload</span><br><span class="line">success</span><br></pre></td></tr></tbody></table></figure>

<h3 id="Rediså®‰è£…"><a href="#Rediså®‰è£…" class="headerlink" title="Rediså®‰è£…"></a>Rediså®‰è£…</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/redis</span><br></pre></td></tr></tbody></table></figure>

<p>1ã€æŠŠrediså‹ç¼©åŒ…è§£å‹åˆ° <code>/usr/local/redis</code> ä¸‹</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ tar -zvxf redis-5.0.5.tar.gz</span><br></pre></td></tr></tbody></table></figure>

<p>2ã€ä½¿ç”¨makeå‘½ä»¤è¿›è¡Œç¼–è¯‘</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /usr/local/redis/redis-5.0.5</span><br><span class="line">$ make</span><br></pre></td></tr></tbody></table></figure>

<p>3ã€è¿›å…¥srcæ–‡ä»¶æ‰§è¡Œmake installå®‰è£…redis</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /usr/local/redis/redis-5.0.5/src</span><br><span class="line">$ make install</span><br></pre></td></tr></tbody></table></figure>

<p>4ã€å¯åŠ¨redisï¼ˆå‰å°ï¼‰</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@liehuo src]$ ./redis-server ../redis.conf</span><br></pre></td></tr></tbody></table></figure>

<p>5ã€ä¿®æ”¹redis.confé…ç½®æ–‡ä»¶</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#redis server æ¥æ”¶è¿™ä¸ªç½‘å¡è¿‡æ¥çš„è¿æ¥</span></span><br><span class="line"><span class="built_in">bind</span> 192.168.221.129</span><br><span class="line"><span class="comment"># å…è®¸ä»»ä½•ä¸»æœºè¿æ¥ã€è®¿é—®</span></span><br><span class="line"><span class="built_in">bind</span> 127.0.0.1 æ”¹ä¸º <span class="built_in">bind</span> 0.0.0.0</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// ä¿®æ”¹ä¿æŠ¤æ¨¡å¼, ä¸ä¿®æ”¹ä¿æŠ¤æ¨¡å¼ä¹Ÿæ˜¯åªèƒ½å†…ç½‘è®¿é—®çš„ protected-mode <span class="built_in">yes</span> æ”¹æˆ protected-mode no</span><br><span class="line">protected-mode no</span><br><span class="line">// daemonize no æ”¹ä¸º<span class="built_in">yes</span> åå°ä¸€ç›´è¿è¡Œ</span><br><span class="line">daemonize <span class="built_in">yes</span></span><br><span class="line">// è®¾ç½®å¯†ç , è¿™é‡Œå»ºè®®è®¾ç½®å¯†ç , å¦åˆ™å¯èƒ½ä¼šå‘ç”Ÿä¸€äº›é¢„æ–™ä¸åˆ°çš„äº‹æƒ…, å› ä¸º6379ç«¯å£æœ‰æ¼æ´</span><br><span class="line">requirepass <span class="string">"ä½ çš„å¯†ç "</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>6ã€åå°è¿è¡Œ</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ./redis-server ../redis.conf</span><br></pre></td></tr></tbody></table></figure>

<p>7ã€æŸ¥çœ‹redisè¿›ç¨‹</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps -ef | grep redis</span><br></pre></td></tr></tbody></table></figure>

<p>8ã€å¼€æ”¾ç«¯å£</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --add-port=6379/tcp --permanent</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></tbody></table></figure>

<p>9ã€å¯åŠ¨redis-cli</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@liehuo src]$ ./redis-cli</span><br><span class="line">127.0.0.1:6379&gt; auth 123456</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">(empty list or <span class="built_in">set</span>)</span><br><span class="line">127.0.0.1:6379&gt; </span><br></pre></td></tr></tbody></table></figure>

<h3 id="RocketMQå®‰è£…"><a href="#RocketMQå®‰è£…" class="headerlink" title="RocketMQå®‰è£…"></a>RocketMQå®‰è£…</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/rocketmq/rocketmq-4.9.2/</span><br></pre></td></tr></tbody></table></figure>

<p>rocketmq éœ€è¦ Linux ä¸Šå®‰è£…JDKï¼Œç‰ˆæœ¬ 1.8 åŠä»¥ä¸Š<br>1ã€ä¸Šä¼ ä¹‹åè¿›è¡Œè§£å‹:</p>
<figure class="highlight powershell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unzip rocketmq<span class="literal">-all-4</span>.<span class="number">7.0</span><span class="literal">-bin-release</span>.zip</span><br></pre></td></tr></tbody></table></figure>

<p>ç›®å½•ç»“æ„</p>
<ul>
<li>benchmarkï¼šæµ‹è¯• sh æ–‡ä»¶</li>
<li>binï¼šå¯æ‰§è¡Œæ–‡ä»¶</li>
<li>confï¼šé…ç½®æ–‡ä»¶</li>
<li>libï¼šmq æ‰€ä¾èµ–çš„ç¬¬ä¸‰æ–¹ jar åŒ…</li>
</ul>
<p>2ã€å¯åŠ¨ RocketMQ</p>
<p>åœ¨ bin ç›®å½•ä¸‹ï¼Œæ‰§è¡Œä¸‹é¢å‘½ä»¤<br>å¯åŠ¨nameserver</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/local/rocketmq/rocketmq-4.9.2/bin</span><br><span class="line"><span class="comment">#åå°è¿è¡Œ</span></span><br><span class="line">[root@liehuo bin]$ <span class="built_in">nohup</span> sh mqnamesrv &amp;</span><br><span class="line"></span><br><span class="line">[1] 4456</span><br><span class="line"><span class="built_in">nohup</span>: ignoring input and appending output to <span class="string">'nohup.out'</span></span><br></pre></td></tr></tbody></table></figure>

<p>å¯åŠ¨ broker</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#åå°è¿è¡Œ</span></span><br><span class="line">[root@liehuo bin]$ <span class="built_in">nohup</span> sh mqbroker -c /usr/local/rocketmq/rocketmq-4.9.2/conf/broker.conf &amp;</span><br><span class="line"></span><br><span class="line">[1] 7940</span><br><span class="line"><span class="built_in">nohup</span>: ignoring input and appending output to <span class="string">'nohup.out'</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#or å‰å°è¿è¡Œ</span></span><br><span class="line">[root@liehuo rocketmq-4.9.2]$ bin/mqnamesrv</span><br><span class="line">[root@liehuo rocketmq-4.9.2]$ bin/mqbroker -c /usr/local/rocketmq/rocketmq-4.9.2/conf/broker.conf</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹æ—¥å¿—ï¼Œçœ‹ mq æ˜¯å¦å¯åŠ¨æˆåŠŸ</span></span><br><span class="line">[root@liehuo bin]$ <span class="built_in">tail</span> -f ~/logs/rocketmqlogs/broker.log</span><br><span class="line">[root@liehuo rocketmq]$ <span class="built_in">tail</span> -f ~/logs/rocketmqlogs/namesrv.log</span><br></pre></td></tr></tbody></table></figure>

<p>3ã€è¿›å…¥ conf ç›®å½•è¿½åŠ å†…å®¹</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /usr/local/rocketmq/rocketmq-4.9.2/conf</span><br><span class="line">$ vim broker.conf</span><br><span class="line"></span><br><span class="line"><span class="comment">#è¿½åŠ ä¸‹é¢å†…å®¹</span></span><br><span class="line">listenPort=10911</span><br><span class="line">namesrvAddr=localhost:9876</span><br><span class="line">storePathRootDir=/usr/local/rocketmq/rocketmq-4.9.2/store</span><br><span class="line">storePathCommitLog=/usr/local/rocketmq/rocketmq-4.9.2/store/commitlog</span><br><span class="line">storePathConsumerQueue=/usr/local/rocketmq/rocketmq-4.9.2/store/consumequeue</span><br></pre></td></tr></tbody></table></figure>

<p>4ã€ä¿®æ”¹å†…å­˜å¤§å°<br>ä¸ä¿®æ”¹å†…å­˜å¤§å°å¯èƒ½è¿è¡Œä¸èµ·æ¥<br>è¿›å…¥ bin ç›®å½•<br>ç¼–è¾‘ runbroker.sh æ–‡ä»¶å’Œ runserver.sh æ–‡ä»¶ï¼Œä¿®æ”¹å†…å­˜å¤§å°</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim runserver.sh</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim runbroker.sh</span><br></pre></td></tr></tbody></table></figure>

<p><strong>5ã€æŸ¥çœ‹è¿›ç¨‹</strong></p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -an | grep 9876</span><br></pre></td></tr></tbody></table></figure>

<p><strong>6ã€å¼€æ”¾é˜²ç«å¢™ 9876 å’Œ 10911 ç«¯å£</strong></p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --add-port=9876/tcp --permanent</span><br><span class="line">firewall-cmd --zone=public --add-port=10911/tcp --permanent</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></tbody></table></figure>

<p><strong>7ã€å…³é—­MQ</strong></p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/local/rocketmq/rocketmq-4.9.2/bin</span><br><span class="line"><span class="comment"># å…³é—­ namesrv</span></span><br><span class="line">sh mqshutdown namesrv</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å…³é—­ broker</span></span><br><span class="line">sh mqshutdown broker</span><br></pre></td></tr></tbody></table></figure>

<h3 id="Dockerå®‰è£…"><a href="#Dockerå®‰è£…" class="headerlink" title="Dockerå®‰è£…"></a>Dockerå®‰è£…</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å·¥ä½œç›®å½•</span></span><br><span class="line">/var/lib/docker</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŸ¥çœ‹å·²å®‰è£…çš„dockeræ–‡ä»¶</span></span><br><span class="line">yum list installed | grep docker</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æ›´æ–°yum</span></span><br><span class="line">yum update</span><br><span class="line"><span class="comment"># yum-util æä¾›yum-config-manageråŠŸèƒ½ï¼Œå¦å¤–ä¸¤ä¸ªæ˜¯devicemapperé©±åŠ¨ä¾èµ–çš„	</span></span><br><span class="line">yum install -y yum-utils device-mapper-persistent-data lvm2</span><br><span class="line"><span class="comment">#è®¾ç½®yumæº</span></span><br><span class="line">yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</span><br><span class="line"><span class="comment">#or</span></span><br><span class="line">yum-config-manager \</span><br><span class="line">	--add-repo \</span><br><span class="line">	http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æ›´æ–°yumè½¯ä»¶åŒ…ç´¢å¼•</span></span><br><span class="line">yum makecache fast</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸ¥çœ‹å¯å®‰è£…çš„å‰¯æœ¬</span></span><br><span class="line">yum list docker-ce --showduplicates | <span class="built_in">sort</span> -r</span><br><span class="line">yum list docker-ce-cli --showduplicates | <span class="built_in">sort</span> -r</span><br><span class="line">yum list containerd.io --showduplicates | <span class="built_in">sort</span> -r</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®‰è£…dokcer docker-ceç¤¾åŒº ee ä¼ä¸šç‰ˆ</span></span><br><span class="line">yum install docker-ce docker-ce-cli containerd.io</span><br><span class="line"><span class="comment">#or</span></span><br><span class="line">yum install docker-ce-24.0.5-1.el7 docker-ce-cli-24.0.5-1.el7 containerd.io-6.21-3.1.el7</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¯åŠ¨docker</span></span><br><span class="line">systemctl start docker</span><br><span class="line"><span class="comment">#ä½¿ç”¨docker version æ˜¯å¦å®‰è£…æˆåŠŸï¼</span></span><br><span class="line"><span class="comment">#æ‹“å±•</span></span><br><span class="line">[root@liehuo ~]<span class="comment"># systemctl reload docker</span></span><br><span class="line">[root@liehuo ~]<span class="comment"># systemctl status docker</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¸è½½ä¾èµ–</span></span><br><span class="line">yum remove docker-ce docker-ce-cli containerd.io</span><br><span class="line"><span class="comment">#or</span></span><br><span class="line">yum remove docker-ce-24.0.5-1.el7 docker-ce-cli-24.0.5-1.el7 containerd.io-6.21-3.1.el7</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ é™¤èµ„æº</span></span><br><span class="line"><span class="built_in">rm</span> -rf /var/lib/docker</span><br><span class="line"><span class="comment">#/var/lib/docker dockerçš„é»˜è®¤å·¥ä½œè·¯å¾„ï¼</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">docker ps -a <span class="comment">#è¿è¡Œè®°å½•</span></span><br><span class="line">docker ps <span class="comment">#è¿è¡Œæ—¶</span></span><br><span class="line">docker start 99c9b77227de</span><br><span class="line">docker stop 99c9b77227de</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¯åŠ¨å¹¶åŠ å…¥å¼€æœºå¯åŠ¨</span></span><br><span class="line">systemctl start docker</span><br><span class="line">systemctl <span class="built_in">enable</span> docker</span><br></pre></td></tr></tbody></table></figure>

<p>è¿›å…¥etc/dockerç›®å½•ä¸‹ [éå¿…è¦æ“ä½œ]</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># lsæŸ¥çœ‹ç›®å½•ä¸‹æœ‰æ— daemon.jsonæ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰åˆ›å»ºä¸€ä¸ª</span></span><br><span class="line">$ <span class="built_in">cd</span> /etc/docker</span><br><span class="line">$ <span class="built_in">ls</span></span><br><span class="line">daemon.json</span><br></pre></td></tr></tbody></table></figure>

<p>è¿›å…¥æ–‡ä»¶åï¼Œæ·»åŠ :</p>
<figure class="highlight json"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">{</span></span><br><span class="line">  <span class="attr">"registry-mirrors"</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">"https://registry.docker-cn.com"</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">}</span></span><br></pre></td></tr></tbody></table></figure>

<p>è¿˜å¯ä»¥åŠ å…¥é˜¿é‡Œäº‘çš„docker é•œåƒåŠ é€Ÿåœ°å€ï¼šå¦‚ <a target="_blank" rel="noopener" href="https://y4xpdpoy.mirror.aliyuncs.com/">https://y4xpdpoy.mirror.aliyuncs.com</a><br>é˜¿é‡Œäº‘å®¹å™¨é•œåƒæœåŠ¡ ï¼š<a target="_blank" rel="noopener" href="https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors">https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors</a></p>
<figure class="highlight json"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">{</span></span><br><span class="line">  <span class="attr">"registry-mirrors"</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">"https://registry.docker-cn.com"</span><span class="punctuation">,</span><span class="string">"https://y4xpdpoy.mirror.aliyuncs.com"</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">}</span></span><br></pre></td></tr></tbody></table></figure>

<p>é‡å¯dockeræœåŠ¡</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service docker restart</span><br></pre></td></tr></tbody></table></figure>

<h2 id="elasticsearch-docker-æ— æ³•å¯åŠ¨é—®é¢˜"><a href="#elasticsearch-docker-æ— æ³•å¯åŠ¨é—®é¢˜" class="headerlink" title="elasticsearch docker æ— æ³•å¯åŠ¨é—®é¢˜"></a>elasticsearch docker æ— æ³•å¯åŠ¨é—®é¢˜</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#-e "discovery.type=single-node"è¿™ä¸ªä¸œè¥¿å¥½åƒæ˜¯è¯´è®¾ç½®å•æœºä½¿ç”¨</span></span><br><span class="line"><span class="comment">#-e ES_JAVA_OPTS="-Xms256m -Xmx256m"</span></span><br><span class="line"><span class="comment">#eså¯åŠ¨éœ€è¦2gçš„è™šæ‹Ÿå†…å­˜ï¼Œæ­£å¸¸å’±ä»¬è£…çš„è™šæ‹Ÿæœºæ ¹æœ¬æ²¡æœ‰åˆ†é…åˆ°è¿™ä¹ˆå¤§çš„è™šæ‹Ÿå†…å­˜æ‰€ä»¥è¦è¿™ä¹ˆå†™</span></span><br><span class="line">docker run -d --name es -p 9200:9200 -p 9300:9300 -e <span class="string">"discovery.type=single-node"</span> -e ES_JAVA_OPTS=<span class="string">"-Xms256m -Xmx256m"</span> 9cd5b752c86e</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æœ€å¤§è™šæ‹Ÿå†…å­˜åŒºå¤ªå°äº†,è®¾ç½®å¤§ç‚¹</span></span><br><span class="line">sysctl -w vm.max_map_count=262144</span><br><span class="line"><span class="comment"># ç„¶åå†å¯åŠ¨</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="å°†dockeré•œåƒæ‹·è´åˆ°å…¶ä»–ç”µè„‘è¿è¡Œ"><a href="#å°†dockeré•œåƒæ‹·è´åˆ°å…¶ä»–ç”µè„‘è¿è¡Œ" class="headerlink" title="å°†dockeré•œåƒæ‹·è´åˆ°å…¶ä»–ç”µè„‘è¿è¡Œ"></a>å°†dockeré•œåƒæ‹·è´åˆ°å…¶ä»–ç”µè„‘è¿è¡Œ</h2><p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ‰¾åˆ°è¢«æ‰“åŒ…é•œåƒçš„åå­—å’Œç‰ˆæœ¬å· (ç‰ˆæœ¬å·=TAG)<br><code>docker images</code><br>dockeræ‰“åŒ…é•œåƒçš„ä¸¤ç§æ–¹å¼ (é€‰ä¸€ç§æ‰§è¡Œå³å¯)</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker save é•œåƒåå­—:ç‰ˆæœ¬å· &gt; /root/æ‰“åŒ…åå­—.tar</span><br><span class="line">docker save -o /root/æ‰“åŒ…åå­—.tar é•œåƒåå­—:ç‰ˆæœ¬å·</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker save docker.elastic.co/kibana/kibana:7.15.2 &gt; /root/kibana_7.15.2.tar</span><br></pre></td></tr></tbody></table></figure>

<p>å°†æ‰“åŒ…é•œåƒåˆ†å‘åˆ°å…¶å®ƒå®¿ä¸»æœºçš„ /root/ ç›®å½•ä¸‹<br>xftpæ–‡ä»¶ä¼ è¾“</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å°†æ‰“æˆtaråŒ…çš„é•œåƒloadå‡ºæ¥</span></span><br><span class="line">docker load &lt; /root/kibana_7.15.2.tar</span><br></pre></td></tr></tbody></table></figure>

<p>æŸ¥çœ‹ load å‡ºæ¥çš„é•œåƒID<br><code>docker images</code><br>åˆš load å‡ºæ¥çš„é•œåƒå…¶åå­—ã€ç‰ˆæœ¬å·å‡ä¸º none, æˆ‘ä»¬è¦é€šè¿‡ tag å‘½ä»¤èµ‹äºˆåå­—å’Œç‰ˆæœ¬å·<br><code>docker tag é•œåƒID é•œåƒåå­—:ç‰ˆæœ¬å·</code></p>
</div><script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script>
    </div>

    <div class="post-meta">
        <i>
        
            <span>2023-09-16</span>
            
                <span>è¯¥ç¯‡æ–‡ç« è¢« äºé‘«ç‘</span>
            
            
                <span>æ‰“ä¸Šæ ‡ç­¾:
                    
                    
                        <a href='/tags/%E8%BD%AF%E4%BB%B6/'>
                            è½¯ä»¶
                        </a>
                    
                </span>
             
             
                <span>å½’ä¸ºåˆ†ç±»:
                    
                    
                        <a href='/categories/%E5%BC%80%E5%8F%91/'>
                            å¼€å‘
                        </a>
                    
                </span>
            
        
        </i>
    </div>
    <br>
    
    <!-- <div class="post-footer-pre-next">
        <span>ä¸Šä¸€ç¯‡ï¼š<a href=""></a></span>
        <span class="post-footer-pre-next-last-span-right">ä¸Šä¸€ç¯‡ï¼š<a href=""></a></span>
    </div> -->

    
        
    <div class="comments-container">
    <div id="comment-anchor"></div>
    <div class="comment-area-title">
        ä»¥ä¸Š 
    </div>
    
        

    <div id="waline"></div>
    <script type="module"  >
        import { init } from 'https://npm.elemecdn.com/hexo-theme-a4@latest/source/js/waline.mjs'; 
        function loadWaline() {
            init({
                el: '#waline',
                serverURL: 'https://comment.liehuocoder.online/',
                lang: 'zh-CN',
                dark: 'body[class~="dark-mode"]',
                requiredMeta: ['nick','mail'], // cannot customize by theme config, change it yourself
                search: false, // ç¦æ­¢è¡¨æƒ…åŒ…æœç´¢
                reaction: false, // å¯¹æ–‡ç« æ‰“åˆ†
                pageview: false, // æµè§ˆé‡ç»Ÿè®¡
                comment: false, // è¯„è®ºæ•°ç»Ÿè®¡

                locale: {
                    placeholder: 'ç•™è¨€å¯ä»¥å¢åŠ æ™ºåŠ›ï¼Œä¸ä¿¡ä½ è¯•è¯•ï¼Ÿ', 
                    sofa: ''
                },
            });
            
        }
        window.addEventListener('DOMContentLoaded', loadWaline);
    </script>



    
    
    
    </div>


     
</div>



                                      
                    
                    
                    <div class="footer">
    
        <span> 
            Â© 2023-2024 çƒˆç« 

            
                

            
                
                    / <a href="/friends/"> å‹é“¾ </a>
                

            
                
                    / <a href="/contact/"> è”ç³» </a>
                

            
                
                    / <a href="/support/"> æ”¯æŒ </a>
                

            
                
                    / <a href="/subscribe/"> è®¢é˜… </a>
                

            
        </span>
    
</div>
<!--è¿™æ˜¯æŒ‡ä¸€æ¡çº¿å¾€ä¸‹çš„å†…å®¹-->
<div class="footer-last">
    
            <span>ğŸ”¥åšè‡ªå·±æœ€å–œæ¬¢çš„ï¼Œåšè‡ªå·±æœ€æ“…é•¿çš„ğŸ”¥</span>
            
                <span class="footer-last-span-right"><i>æœ¬ç«™ç”±<a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/index.html">Hexo</a>é©±åŠ¨ï½œä½¿ç”¨<a target="_blank" rel="noopener" href="https://github.com/HiNinoJay/hexo-theme-A4">Hexo-theme-A4</a>ä¸»é¢˜</i></span>
            
    
</div>


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

    <!--ç›®å½•-->
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js" type="text/javascript" ></script>
        
<script src="/js/toc.js"></script>

    

    
<script src="/js/randomHeaderContent.js"></script>

    <!--å›åˆ°é¡¶éƒ¨æŒ‰é’®-->
    
        
<script src="/js/returnToTop.js"></script>

    

    
        
<script src="/js/returnToLastPage.js"></script>

    





<script src="/js/lightgallery.min.js"></script>



                </div>
            
            
                <!-- å›åˆ°é¡¶éƒ¨çš„æŒ‰é’®-->  
                <div class="progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
            
                <!-- è¿”å›çš„æŒ‰é’®-->  
                <div class="return-to-last-progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
    </body>


    <!--æš—é»‘æ¨¡å¼-->
    <script src="/js/darkmode-js.min.js"></script>
    <script>
        function addDarkmodeWidget() {
        const options = {
            bottom: '53px', // default: '32px'
            right: 'unset', // default: '32px'
            left: '42px', // default: 'unset'
            time: '0.3s', // default: '0.3s'
            mixColor: '#fff', // default: '#fff'
            backgroundColor: ' #e4e4e4 ',  // default: '#fff'
            buttonColorDark: '#100f2c',  // default: '#100f2c'
            buttonColorLight: '#fff', // default: '#fff'
            saveInCookies: true, // default: true,
            label: 'ğŸŒ“', // default: ''
            autoMatchOsTheme: true // default: true
        }
    
        const darkmode = new Darkmode(options);
        darkmode.showWidget();
        
        }
        window.addEventListener('load', addDarkmodeWidget);
    </script>
  
</html>